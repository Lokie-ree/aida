# Pelican AI - Agent-Based Development System

## Project Context

**Name:** Pelican AI  
**Tagline:** Navigate AI with Confidence  
**Mission:** Empower Louisiana educators with practical, ethical, and platform-agnostic AI guidance that reclaims their time for high-impact teaching.

**Current Phase:** Phase 1 Complete - Transitioning to Phase 2  
**Status:** Phase 1 MVP functionally complete (72.7% test success rate), Phase 2 backend implemented but UI not exposed

## Core Value Proposition

- **Platform-Agnostic Guidance:** Works with ANY AI tool (MagicSchool AI, Brisk, SchoolAI, Gemini, etc.)
- **Louisiana-Aligned:** Built for Louisiana state standards and educator rubric
- **Ethical Guardrails:** Responsible AI use is built-in
- **Time-Saving:** Immediate, practical solutions for common tasks (3-5 hours/week savings target)

## Tech Stack & Architecture

### Frontend
- React 19, TypeScript, Vite
- Tailwind CSS, shadcn/ui
- Mobile-first, WCAG 2.1 AA compliance

### Backend
- Convex (real-time database, serverless functions)
- Better Auth (@convex-dev/better-auth)
- Resend (email automation)
- OpenAI API (RAG system)

### MCP Integrations
- **Convex MCP** (v1.27.3) - Deployment monitoring, database inspection, function debugging
- **Playwright MCP** - Automated E2E testing, visual regression, accessibility validation
- **Firecrawl MCP** (@mendable/firecrawl-js v1.29.3) - Document scraping and processing (Phase 2+)
- **Vapi MCP** (@vapi-ai/web v2.4.0) - Voice interface logs and debugging (Phase 2+)
- **RAG System** (@convex-dev/rag v0.5.3) - Document embeddings and intelligent retrieval (Phase 2+)

### Architecture Principles
- Serverless-first approach
- End-to-end type safety
- Zero-trust security (FERPA compliant)
- Performance: <3s load times, <10s email delivery

## Design System

**Colors:**
- Pelican Blue: #0ea5e9 (primary)
- Louisiana Gold: #f59e0b (accent)
- Deep Blue: #1e40af (secondary)

**Typography:**
- Primary: Lexend (accessibility-focused)
- Headings: Poppins (Louisiana brand)
- Monospace: JetBrains Mono

**Voice & Tone:**
- Professional yet approachable
- Louisiana-proud
- Educator-first focus
- Confident but humble

## Current System Status

### Phase 1 MVP (Functionally Complete ✅)
- ✅ Beta invitation email system
- ✅ Web signup/auth flow (Better Auth)
- ✅ Automated welcome email
- ✅ Automated weekly prompt email (cron job)
- ✅ Database schema: users, userProfiles, betaSignups, sessions
- ⚠️ **Known Issues:** 72.7% test success rate, Better Auth HTTP endpoint problems (CORS/404 errors), session sync issues

### Phase 2 Backend (Implemented, UI Not Exposed ✅/❌)
- ✅ Framework library backend (convex/frameworks.ts, 80+ CRUD operations)
- ✅ Community features backend (convex/innovations.ts, testimonials.ts)
- ✅ Admin dashboard backend (convex/admin.ts)
- ✅ Time tracking backend (convex/timeTracking.ts)
- ✅ RAG system integration (@convex-dev/rag)
- ✅ UI components built (src/components/framework/, community/, admin/, dashboard/)
- ❌ UI not connected to user-facing routes or data flows

### Critical Blockers for Phase 2 Transition
1. **Fix Better Auth HTTP endpoint issues** (CORS, 404 errors blocking tests)
2. **Improve test coverage** from 72.7% to 90%+ (auth endpoint tests failing)
3. **Expose framework library UI** to beta users (wire existing UI to backend)
4. **Connect community features UI** (add routing, data connections)
5. **Resolve session management sync issues** (edge cases in session persistence)

## Success Metrics (Phase 1)

**Quantitative:**
- 20+ active beta testers
- 75%+ weekly email open rate over 4 weeks
- 80%+ report immediate time savings (10+ minutes per prompt)
- 90%+ satisfaction rating
- <3s page load times
- 99%+ uptime during MVP period

**Qualitative:**
- Testimonials demonstrating time savings
- Evidence of successful AI prompt application
- Positive feedback on email-first approach
- Stories of ethical AI use

## Data Model (Convex Schema)

**Phase 1 Tables (Active in Production):**
- `betaSignups` - Beta tester recruitment and approval
- `userProfiles` - User extensions (school, subject, gradeLevel, district, role)
- `user` - Better Auth managed
- `session` - Better Auth managed
- `account` - Better Auth managed
- `verification` - Better Auth managed

**Phase 2 Tables (Already Implemented in Schema):**
- `frameworks` - AI guidance frameworks with Louisiana standards alignment
- `frameworkUsage` - User interaction tracking
- `testimonials` - User feedback and success stories
- `innovations` - Community-shared innovations
- `innovationInteractions` - Community engagement tracking
- `betaProgram` - Beta program tracking and analytics
- `timeTracking` - Time savings analytics
- **Note:** RAG tables (documents, chatMessages, feedbackSessions, auditLogs) auto-managed by @convex-dev/rag

## Agent Selection System

To activate a specific agent's context and role, reference the appropriate rule file from the `.cursor/rules/` directory.

### Available Agents

Each agent has a dedicated `.mdc` rule file with role-specific context, responsibilities, MCP tool configurations, and quality standards:

- **@.cursor/rules/product.mdc** - Product & Design (business strategy, user experience, Louisiana educator empowerment)
- **@.cursor/rules/developer.mdc** - Developer (full-stack implementation, system architecture, technical execution)
- **@.cursor/rules/security.mdc** - Security Specialist (Semgrep analysis, FERPA compliance, vulnerability detection)
- **@.cursor/rules/qa.mdc** - Quality Assurance (testing, bug reporting, validation)

### Agent Selection Guidelines

1. **Single Agent Mode:** Reference one agent at a time for focused work
   - Example: `@.cursor/rules/developer.mdc Help me implement the auth flow`

2. **Multi-Agent Mode:** Reference multiple agents when cross-functional perspective needed
   - Example: `@.cursor/rules/product.mdc @.cursor/rules/developer.mdc Design and implement the email API`

3. **Default Mode:** Without agent reference, use general full-stack development context (this file)

### Example Usage

```
@.cursor/rules/product.mdc Help me prioritize these features for Phase 2 transition
@.cursor/rules/developer.mdc Implement the Better Auth integration with user profiles
@.cursor/rules/security.mdc Run Semgrep security scan on the authentication flow
@.cursor/rules/qa.mdc Create E2E test plan for beta signup flow
```

### Quick Reference: When to Use Each Agent

- **Product decisions or UX questions?** → @.cursor/rules/product.mdc
- **Architecture, implementation, or technical work?** → @.cursor/rules/developer.mdc
- **Security or FERPA compliance?** → @.cursor/rules/security.mdc
- **Testing or quality assurance?** → @.cursor/rules/qa.mdc

## Key Decision Records

- **ADR-001:** Use Convex Backend (docs/decisions/001-use-convex-backend.md)
- **ADR-002:** Extend A.I.D.A. Codebase (docs/decisions/002-extend-aida-codebase.md)
- **ADR-003:** Framework-Based Content (docs/decisions/003-framework-based-content.md)
- **ADR-004:** Migrate to Better Auth (docs/decisions/004-migrate-to-better-auth.md)
- **ADR-006:** Beta Auth Investigation (docs/decisions/006-beta-auth-investigation.md)
- **ADR-007:** Email-First Beta Flow (docs/decisions/007-email-first-beta-flow.md)

## References

- **Brand Guidelines:** docs/PELICAN_AI_BRAND_GUIDELINES.md
- **Testing Suite:** scripts/README.md
- **Troubleshooting:** scripts/troubleshooting-guide.md
- **Agent System Integration:** docs/GIT-WORKFLOW.md (Agent Collaboration Patterns)

